(()=>{var e,t={6700:(e,t,n)=>{var r={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function s(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=o,e.exports=s,s.id=6700},4559:(e,t,n)=>{"use strict";var r=n(655),s=n(7294),o=n(3935),a=n(381),i=n.n(a);var l=n(9669),c=n.n(l),u=new(function(){function e(){this.mapConfigUrl="map-config.json",this.slicesUrl="slices.json"}return e.prototype.getMapConfig=function(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return[2,c().get(this.mapConfigUrl)]}))}))},e.prototype.getSlices=function(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return[2,c().get(this.slicesUrl)]}))}))},e}()),m=n(8661),f=n(7153);const j="slider",d="sliderSpan",h="wrapperSlider";var v=function(e){var t=e.slices,n=e.onChange,o=f.ZP.Handle,a=(0,r.CR)((0,s.useState)(0),2),i=a[0],l=a[1],c=Object.fromEntries(t.map((function(e,t){return[t,s.createElement("span",{className:d},e.date.slice(0,4))]})));return s.createElement("div",{className:h},s.createElement(f.ZP,{dots:!0,min:0,max:t.length-1,value:i,onChange:function(e){n(e),l(e)},handle:function(e){var n=e.value,a=e.dragging,i=e.index,l=(0,r._T)(e,["value","dragging","index"]),c="";return t.forEach((function(e,t){n===t&&(c=e.date)})),s.createElement(f.Rl,{prefixCls:"rc-slider-tooltip",overlay:""+c.slice(0,10),visible:a,placement:"top",key:i},s.createElement(o,(0,r.pi)({value:n},l)))},className:j,marks:c}))},p=n(7960),g=n(979);const b={sidebarWrapper:"sidebarWrapper",header:"header",content:"content",contentBlock:"contentBlock",contentTitle:"contentTitle",footer:"footer",footerButton:"footerButton"};var y=function(e){var t=(0,r.CR)((0,s.useState)(!0),2),n=t[0],o=t[1],a=e.feature;(0,s.useEffect)((function(){o(!a)}),[a]);return s.createElement("div",{className:b.sidebarWrapper},s.createElement(g.M7,{className:b.sidebar,collapsed:n,collapsedWidth:"0px"},s.createElement(g.$l,{className:b.header},null==a?void 0:a.mr),s.createElement(g.TZ,{className:b.content},a?Object.entries(a).map((function(e,t){var n=(0,r.CR)(e,2),o=n[0],a=n[1];return"string"==typeof a?s.createElement("div",{key:t.toString(),className:b.contentBlock},s.createElement("span",{className:b.contentTitle},o),":"," ",a):null})):null),s.createElement(g.ZW,{className:b.footer},s.createElement("button",{type:"button",className:b.footerButton,onClick:function(){o(!0)}},"Свернуть"))))};const E="map-wrapper",C="controls",w="map",k="midControls",z="rightControlsContent",Z="zoom-controls",x="bottom-controls",N="topControls",P="diffControlsButton",S="sliderWrapper";var L=n(1140),O=n(8734),R=n(423),V=n(8266),_=n(3078),G=n(8191),M=n(7539),A=n(1345),B=n(8958),T=n(3492),J=n(9090),F=n(5920),W=n(5081),U=n(686),D=n(8683),q=n(9242),H=new(function(){function e(){}return e.prototype.generateMap=function(e,t,n){return(0,r.mG)(this,void 0,void 0,(function(){var s,o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return s=new m.Z({target:n.current,layers:[new L.Z({source:new V.Z})],view:new J.ZP({center:e.center,zoom:e.zoom,minZoom:e.minZoom,maxZoom:e.maxZoom,extent:e.extent,projection:"EPSG:3857"}),controls:F.ce({zoom:!1,rotate:!1,attribution:!1}),interactions:(0,W.ce)({mouseWheelZoom:!1}).extend([new U.Z({condition:D.QC})])}),[4,Promise.resolve(this.createMapGroups(t))];case 1:return(o=r.sent()).forEach((function(e,t){0===t&&e.setVisible(!0),s.addLayer(e)})),[2,{map:s,groups:o}]}}))}))},e.prototype.createMapGroups=function(e){return(0,r.mG)(this,void 0,void 0,(function(){var t=this;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,Promise.all(e.map((function(e){return(0,r.mG)(t,void 0,void 0,(function(){var t,n,s=this;return(0,r.Jh)(this,(function(o){return t=e.layers.filter((function(e){return"vector"===e.type?e:null})),n=e.layers.filter((function(e){return"tile"===e.type?e:null})),[2,Promise.all(t.map((function(e){return(0,r.mG)(s,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.getLayer(e.url)];case 1:return[2,t.sent().data]}}))}))}))).then((function(e){var t=e.map((function(e){return new R.Z({source:new _.Z({features:(new G.Z).readFeatures(e,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})}),style:new M.ZP({image:s.generateCircleStyle()})})})),o=n.map((function(e){return new L.Z({source:new q.Z({url:e.url})})}));return new O.Z({layers:(0,r.ev)((0,r.ev)([],(0,r.CR)(o),!1),(0,r.CR)(t),!1),visible:!1})}))]}))}))}))).then((function(e){return e}))];case 1:return[2,n.sent()]}}))}))},e.prototype.getLayer=function(e){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){return[2,c().get(e)]}))}))},e.prototype.generateCircleStyle=function(){return new T.Z({radius:10,fill:new A.Z({color:this.getRandomColor()}),stroke:new B.Z({color:"yellow",width:2})})},e.prototype.getRandomColor=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},e}()),I=function(e){var t=e.mapConfig,n=e.slices,o=(0,s.useRef)(),a=(0,r.CR)((0,s.useState)(new m.Z({})),2),i=a[0],l=a[1],c=(0,r.CR)((0,s.useState)([]),2),u=c[0],f=c[1],j=(0,r.CR)((0,s.useState)(null),2),d=j[0],h=j[1],g=(0,r.CR)((0,s.useState)(0),2),b=g[0],L=g[1],O=(0,r.CR)((0,s.useState)(0),2),R=O[0],V=O[1],_=(0,r.CR)((0,s.useState)(!1),2),G=_[0],M=_[1],A=new p.Z;(0,s.useEffect)((function(){H.generateMap(t,n,o).then((function(e){l(e.map),f(e.groups)}))}),[]);var B=function(){i.getControls().forEach((function(e){return i.removeControl(e)})),A.removeLayers(),u.forEach((function(e){return e.setVisible(!1)}))};return i.on("click",(function(e){var t=i.forEachFeatureAtPixel(e.pixel,(function(e,t){return e}));h(t||null)})),i.on("pointermove",(function(e){var t=i.hasFeatureAtPixel(e.pixel);i.getTargetElement().style.cursor=t?"pointer":""})),s.createElement("div",{className:E},s.createElement("div",{className:w,ref:o}),s.createElement("div",{className:C},s.createElement("div",{className:N},G?s.createElement("button",{type:"button",className:P,onClick:function(){return A.removeLayers(),i.getControls().forEach((function(e){i.removeControl(e)})),u.forEach((function(e){return e.setVisible(!1)})),u[R].setVisible(!0),V(R),void M(!1)}},"Сравнить"):s.createElement("button",{type:"button",className:P,onClick:function(){return i.addControl(A),u[R].getLayersArray().forEach((function(e){A.addLayer(e,!1)})),u[b].getLayersArray().forEach((function(e){A.addLayer(e,!0)})),u[b].setVisible(!0),void M(!0)}},"Сравнить")),s.createElement("div",{className:k},s.createElement("div",{className:Z},s.createElement("button",{type:"button",title:"Zoom in",className:"zoom-controls__button",onClick:function(){var e=i.getView().getZoom();void 0!==e&&i.getView().animate({zoom:e+1,duration:250})}},"+"),s.createElement("button",{type:"button",title:"Zoom out",className:"zoom-controls__button",onClick:function(){var e=i.getView().getZoom();void 0!==e&&i.getView().animate({zoom:e-1,duration:250})}},"–")),s.createElement("div",{className:z})),s.createElement("div",{className:x},s.createElement("div",{className:S},s.createElement(v,{onChange:function(e){G?(B(),i.addControl(A),u[e].getLayersArray().forEach((function(e){A.addLayer(e,!1)})),u[b].getLayersArray().forEach((function(e){A.addLayer(e,!0)})),u[b].setVisible(!0),u[e].setVisible(!0),V(e)):(u.forEach((function(e){return e.setVisible(!1)})),u[e].setVisible(!0),V(e))},slices:n}),G?s.createElement(v,{onChange:function(e){B(),i.addControl(A),u[e].getLayersArray().forEach((function(e){A.addLayer(e,!0)})),u[R].getLayersArray().forEach((function(e){A.addLayer(e,!1)})),u[R].setVisible(!0),u[e].setVisible(!0),L(e)},slices:n}):null))),s.createElement(y,{feature:null==d?void 0:d.getProperties()}))},Q=function(){var e=(0,r.CR)((0,s.useState)({center:[],zoom:0,minZoom:0,maxZoom:0,extent:[]}),2),t=e[0],n=e[1],o=(0,r.CR)((0,s.useState)([]),2),a=o[0],i=o[1];return(0,s.useEffect)((function(){Promise.all([u.getMapConfig(),u.getSlices()]).then((function(e){n(e[0].data),i(e[1].data)}))}),[]),s.createElement(s.Fragment,null,t.zoom>0&&a.length>0?s.createElement(I,{mapConfig:t,slices:a}):null)};(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([new Promise((function(e,t){i().locale("ru"),e(!0)}))])];case 1:return e.sent(),o.render(s.createElement(Q,null),document.getElementById("root")),[2]}}))})).then((function(){}))}},n={};function r(e){var s=n[e];if(void 0!==s)return s.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,e=[],r.O=(t,n,s,o)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,s,o]=e[u],i=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(i=!1,o<a&&(a=o));if(i){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,s,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={826:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var s,o,[a,i,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(l)var u=l(r)}for(t&&t(n);c<a.length;c++)o=a[c],r.o(e,o)&&e[o]&&e[o][0](),e[a[c]]=0;return r.O(u)},n=self.webpackChunksat_selection_module_client=self.webpackChunksat_selection_module_client||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=r.O(void 0,[953],(()=>r(4559)));s=r.O(s)})();