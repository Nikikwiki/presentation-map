(()=>{var e,t,r,n={6700:(e,t,r)=>{var n={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=6700},3737:(e,t,r)=>{"use strict";var n=r(655),a=r(7294),o=r(3935),s=r(381),l=r.n(s);var i=r(9669),c=r.n(i),u=new(function(){function e(){this.mapConfigUrl="map-config.json",this.slicesUrl="slices.json"}return e.prototype.getMapConfig=function(){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){return[2,c().get(this.mapConfigUrl)]}))}))},e.prototype.getSlices=function(){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){return[2,c().get(this.slicesUrl)]}))}))},e}()),f=r(8661),d=r(7910);const m="wrapperSlider";var p=function(e){var t=e.slices,r=e.onChange,o=(0,n.CR)((0,a.useState)(0),2),s=o[0],l=o[1],i=t.map((function(e,t){return{label:e.sliderText,value:t}})),c=function(e){r(e),l(e)};return a.createElement("div",{className:m,onClick:function(e){return function(e){var t,r,a=e.clientX,o=e.currentTarget.children[0].getElementsByClassName("MuiSlider-markLabel"),s=[];try{for(var l=(0,n.XA)(o),i=l.next();!i.done;i=l.next()){var u=i.value.getBoundingClientRect(),f=u.x+u.width/2;s.push(f)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=l.return)&&r.call(l)}finally{if(t)throw t.error}}var d=0;if(a<s[0])c(0);else if(a<s[s.length])c(s.length-1);else{var m=Math.abs(s[0]-a);s.forEach((function(e,t){Math.abs(e-a)<m&&(m=Math.abs(e-a),d=t)})),c(d)}}(e)},onKeyPress:function(){},role:"button",tabIndex:0},a.createElement(d.ZP,{"aria-label":"slices",marks:i,value:s,min:0,max:t.length-1,onChange:function(e,t){return function(e,t){r(t),l(t)}(0,t)},valueLabelFormat:function(e){var r=t.find((function(t,r){return r===e}));return r?r.sliderLabel:""},valueLabelDisplay:t.find((function(e){return e.sliderLabel}))?"auto":"off"}))},g=r(7174),y=r(8641),v=r(6914),h=r(2116),j=r(6867),E=r(981),b=r(9572);const w="header",Z="headerText",k="body",S="contentBlock",C="contentTitle",x="contentStyle",L="clsuterBody",P="clusterBlock";var z=function(e){var t=(0,n.CR)((0,a.useState)(!0),2),r=t[0],o=t[1],s=e.clickedObject,l=e.onClose,i=e.zoomToObject;(0,a.useEffect)((function(){s.featureProps||s.cluster.length?o(!1):o(!0)}));var c=function(){o(!0),l()};(0,a.useEffect)((function(){var e=function(e){"Escape"===e.key&&c()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]);return a.createElement(E.ZP,{anchor:"left",open:!r,variant:"persistent",sx:{width:"20vw",minWidth:"260px",flexShrink:0,"& .MuiDrawer-paper":{width:"20vw",minWidth:"260px",boxSizing:"border-box"}}},(s.featureProps||s.cluster.length)&&a.createElement("div",{className:w},a.createElement("p",{className:Z},s.layer.get("name")),a.createElement(j.Z,{"aria-label":"close",color:"primary",onClick:function(){return c()},size:"large"},a.createElement(b.Z,null))),a.createElement(h.Z,null),s.featureProps&&a.createElement("div",{className:k},s.featureProps?Object.entries(s.featureProps).map((function(e,t){var r=(0,n.CR)(e,2),o=r[0],s=r[1];return"string"==typeof s?a.createElement("div",{key:t.toString(),className:S},a.createElement("div",{className:C},o),a.createElement("div",{className:x},s)):null})):null),s.cluster.length>0&&a.createElement("div",{className:L},s.cluster.length?s.cluster.map((function(e,t){var r,n;return a.createElement("div",{key:t.toString()},a.createElement(v.Z,{variant:"text",className:P,onClick:function(){return i(e)}},null===(r=e.getProperties())||void 0===r?void 0:r.title,a.createElement("br",null),null===(n=e.getProperties())||void 0===n?void 0:n.string),a.createElement(h.Z,null))})):null))};var N;function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(this,arguments)}const V=function(e){return a.createElement("svg",O({width:16,height:16,xmlns:"http://www.w3.org/2000/svg"},e),N||(N=a.createElement("path",{d:"M12.97 3.039a.786.786 0 00-1.113 0L8 6.888 4.143 3.03A.786.786 0 103.03 4.143L6.888 8 3.03 11.857a.786.786 0 101.112 1.112L8 9.112l3.857 3.857a.786.786 0 101.112-1.112L9.112 8l3.857-3.857c.3-.3.3-.805 0-1.104z",fillOpacity:.6})))};var A;!function(e){e.IconClose=function(e,t){return void 0===t&&(t={}),function(r){return a.createElement(e,(0,n.pi)({},r,t))}}(V)}(A||(A={}));var G=r(245),I=r(9941),R=r(7425),T=r(5092),B=r(3508),_=r(3709),M=r(542),F=r(2887);const U="accordion",X="label",J="lableIcon",D="legendName";var W=function(e){var t=e.layerGroup,r=e.sideGroups,o=(0,n.CR)((0,a.useState)({}),2),s=(o[0],o[1]);return a.createElement("div",null,(null==t?void 0:t.getLayersArray().find((function(e){return e.get("name")&&e.get("displayIcon")})))&&a.createElement(I.Z,{className:U},a.createElement(R.Z,{expandIcon:a.createElement(B.Z,null),"aria-controls":"panel1a-content",id:"panel1a-header"},a.createElement(G.Z,null,"Легенда")),a.createElement(T.Z,null,a.createElement(G.Z,{component:"span",className:D},t?a.createElement(_.Z,null,t.getLayersArray().map((function(e,t){return e.get("name")&&e.get("displayIcon")?a.createElement(M.Z,{key:t.toString(),control:a.createElement(F.Z,{checked:e.getVisible(),onChange:function(t){return function(e,t){var n=t.get("sharedId");e.target.checked?(t.setVisible(!0),r.forEach((function(e){e.getLayersArray().forEach((function(e){n&&e.get("sharedId")===n&&e.setVisible(!0)}))}))):(t.setVisible(!1),r.forEach((function(e){e.getLayersArray().forEach((function(e){n&&e.get("sharedId")===n&&e.setVisible(!1)}))}))),s({})}(t,e)}}),label:a.createElement("div",{className:X},a.createElement("div",{className:J,style:{backgroundImage:"url("+e.get("displayIcon")+")"}}),a.createElement("span",null,e.get("name")))}):null}))):null))))},q=r(594);const Y="body",K="controlButton",Q="label",H="lableIcon",$="lableName";var ee=function(e){var t=(0,n.CR)((0,a.useState)(!1),2),r=t[0],o=t[1],s=(0,n.CR)((0,a.useState)({}),2),l=(s[0],s[1]),i=e.layerGroup,c=e.sideGroups,u=function(){o(!1)};(0,a.useEffect)((function(){var e=function(e){"Escape"===e.key&&u()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]);return a.createElement("div",{className:K},(null==i?void 0:i.getLayersArray().find((function(e){return e.get("name")&&e.get("displayIcon")})))&&a.createElement(v.Z,{variant:"contained",size:"large",className:K,onClick:function(){return o(!0)}},"Легенда"),a.createElement(E.ZP,{anchor:"bottom",open:r,variant:"persistent"},a.createElement("div",{className:"header"},a.createElement("strong",null,"Легенда"),a.createElement(j.Z,{"aria-label":"close",color:"primary",onClick:function(){return u()},size:"large"},a.createElement(q.Z,null))),a.createElement(h.Z,null),a.createElement("div",{className:Y},i&&a.createElement(_.Z,null,i.getLayersArray().map((function(e,t){return e.get("name")&&e.get("displayIcon")?a.createElement(M.Z,{key:t.toString(),control:a.createElement(F.Z,{checked:e.getVisible(),onChange:function(t){return function(e,t){var r=t.get("sharedId");e.target.checked?(t.setVisible(!0),c.forEach((function(e){e.getLayersArray().forEach((function(e){r&&e.get("sharedId")===r&&e.setVisible(!0)}))}))):(t.setVisible(!1),c.forEach((function(e){e.getLayersArray().forEach((function(e){r&&e.get("sharedId")===r&&e.setVisible(!1)}))}))),l({})}(t,e)}}),label:a.createElement("div",{className:Q},a.createElement("div",{className:H,style:{backgroundImage:"url("+e.get("displayIcon")+")"}}),a.createElement("span",{className:$},e.get("name")))}):null}))))))};const te={body:"body",contentBlock:"contentBlock",contentTitle:"contentTitle",contentStyle:"contentStyle"};var re=function(e){var t,r=e.clickedObject,o=e.onClose,s=(0,n.CR)((0,a.useState)(!0),2),l=s[0],i=s[1];(0,a.useEffect)((function(){r.featureProps?i(!1):i(!0)}));var c=function(){i(!0),o()};(0,a.useEffect)((function(){var e=function(e){"Escape"===e.key&&c()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]);return a.createElement("div",{className:te.controlButton},a.createElement(E.ZP,{anchor:"bottom",open:!l,variant:"persistent"},a.createElement("div",{className:"header"},a.createElement("strong",null,null===(t=r.layer)||void 0===t?void 0:t.get("name")),a.createElement(j.Z,{"aria-label":"close",color:"primary",onClick:function(){return c()},size:"large"},a.createElement(q.Z,null))),a.createElement(h.Z,null),a.createElement("div",{className:te.body},r.featureProps?Object.entries(r.featureProps).map((function(e,t){var r=(0,n.CR)(e,2),o=r[0],s=r[1];return"string"==typeof s?a.createElement("div",{key:t.toString(),className:te.contentBlock},a.createElement("div",{className:te.contentTitle},o),a.createElement("div",{className:te.contentStyle},s)):null})):null)))},ne=r(8575),ae=r(9608),oe=r(6540),se=r(4895),le=r(6010),ie=r(1140),ce=r(8734),ue=r(9271),fe=r(8266),de=r(9261),me=r(3078),pe=r(3329),ge=r(7539),ye=r(7862),ve=r(1280),he=r(1345),je=r(8958),Ee=r(3492),be=r(9090),we=r(5920),Ze=r(5081),ke=r(686),Se=r(8683),Ce=r(9474),xe=function(){function e(){}return e.prototype.generateMap=function(e,t,r){return(0,n.mG)(this,void 0,void 0,(function(){var a,o,s;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return a=new f.Z({target:r.current,layers:[new ie.Z({source:new fe.Z})],view:new be.ZP({center:e.center,zoom:e.zoom,minZoom:e.minZoom,maxZoom:e.maxZoom,extent:e.extent,projection:"EPSG:3857"}),controls:we.ce({zoom:!1,rotate:!1,attribution:!1}),interactions:(0,Ze.ce)({mouseWheelZoom:!1}).extend([new ke.Z({condition:Se.QC})])}),[4,this.createMapGroups(t)];case 1:return o=n.sent(),s=this.copyLayerGroup(o),o.forEach((function(e,t){0===t&&e.setVisible(!0),a.addLayer(e)})),s.forEach((function(e){e.setVisible(!1),a.addLayer(e)})),[2,{map:a,groups:o,groupsCopy:s}]}}))}))},e.prototype.createMapGroups=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t,r,a,o,s,l,i,c,u,f,d,m,p,g,y,v,h,j,E,b,w,Z,k;return(0,n.Jh)(this,(function(S){switch(S.label){case 0:t=[],S.label=1;case 1:S.trys.push([1,14,15,16]),r=(0,n.XA)(e),a=r.next(),S.label=2;case 2:if(a.done)return[3,13];o=a.value,s=[],S.label=3;case 3:S.trys.push([3,9,10,11]),b=void 0,l=(0,n.XA)(o.layers),i=l.next(),S.label=4;case 4:return i.done?[3,8]:(g=i.value).url?[4,this.getLayer(g.url)]:[3,6];case 5:return c=S.sent().data,s.push((0,n.pi)((0,n.pi)({},g),{layerByUrl:c})),[3,7];case 6:c="",s.push((0,n.pi)((0,n.pi)({},g),{layerByUrl:c})),S.label=7;case 7:return i=l.next(),[3,4];case 8:return[3,11];case 9:return u=S.sent(),b={error:u},[3,11];case 10:try{i&&!i.done&&(w=l.return)&&w.call(l)}finally{if(b)throw b.error}return[7];case 11:f=[],d={};try{for(Z=void 0,m=(0,n.XA)(s),p=m.next();!p.done;p=m.next()){switch(g=p.value,y=null,g.type){case"vector":y=this.createVectorLayer(g,d);break;case"tile":y=this.createTileLayer(g);break;case"grid":y=this.createGridLayer(g);break;default:y=this.createEmptyLayer()}y.set("url",g.url),y.set("displayIcon",g.displayIcon),y.set("sharedId",g.sharedId),y.set("name",g.name),f.push(y)}}catch(e){Z={error:e}}finally{try{p&&!p.done&&(k=m.return)&&k.call(m)}finally{if(Z)throw Z.error}}v=new ce.Z({layers:f,visible:!1}),t.push(v),S.label=12;case 12:return a=r.next(),[3,2];case 13:return[3,16];case 14:return h=S.sent(),j={error:h},[3,16];case 15:try{a&&!a.done&&(E=r.return)&&E.call(r)}finally{if(j)throw j.error}return[7];case 16:return[2,t]}}))}))},e.prototype.createVectorLayer=function(e,t){var r=this,n=this.getFeatureSource(e),a=new ue.Z({source:n,style:function(n){var a,o=null===(a=n.get("features"))||void 0===a?void 0:a.length,s=t[o];return s||(s=r.getFeatureStyles(e,o)),s}});return a},e.prototype.createTileLayer=function(e){return new ie.Z({source:new Ce.Z({url:e.url})})},e.prototype.createEmptyLayer=function(){return new ie.Z({source:new Ce.Z({url:void 0})})},e.prototype.createGridLayer=function(e){var t=new ne.Z({tileJSON:{tiles:[e.url],grids:[e.url]}});return new ie.Z({source:t})},e.prototype.getFeatureStyles=function(e,t){return t=t>1&&e.text?t:null,e.iconSrc?new ge.ZP({image:new ye.Z({src:e.iconSrc,size:e.iconSize?[e.iconSize,e.iconSize]:void 0,scale:e.iconScale?e.iconScale:1}),text:new ve.Z({text:null==t?void 0:t.toString(),fill:new he.Z({color:e.fillText}),offsetX:e.offsetXText,offsetY:e.offsetYText,scale:e.scaleText})}):this.generateStyles(e,t)},e.prototype.getFeatureSource=function(e){var t=new me.Z({features:(new pe.Z).readFeatures(e.layerByUrl,{dataProjection:"EPSG:4326",featureProjection:"EPSG:3857"})});return e.cluster?new de.Z({distance:e.distance,source:t}):t},e.prototype.getLayer=function(e){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(t){return[2,c().get(e)]}))}))},e.prototype.generateStyles=function(e,t){var r=e.strokeColor,n=e.strokeWidth,a=e.fillColor,o=e.width;return new ge.ZP({fill:new he.Z({color:a}),stroke:new je.Z({color:r,width:o||7}),image:new Ee.Z({radius:2*(o||7),fill:new he.Z({color:a}),stroke:new je.Z({color:r,width:n})}),text:new ve.Z({text:null==t?void 0:t.toString(),fill:new he.Z({color:e.fillText}),offsetX:e.offsetXText,offsetY:e.offsetYText,scale:e.scaleText})})},e.prototype.copyLayerGroup=function(e){return e.map((function(e){var t=e.getLayersArray().map((function(e){var t={};if(e instanceof ie.Z)if(e.getSource()instanceof Ce.Z)t=new ie.Z({source:new Ce.Z({url:e.getSource().getUrls()?e.getSource().getUrls()[0]:""})});else{var r=new ne.Z({tileJSON:{tiles:[e.get("url")],grids:[e.get("url")]}});r.set("url",e.getSource().get("url")),t=new ie.Z({source:r})}else e instanceof ue.Z&&(t=e.getSource()instanceof de.Z?new ue.Z({source:new de.Z({distance:e.getSource().distance,source:new me.Z({features:e.getSource().getSource().getFeatures()})}),style:e.getStyle()}):new ue.Z({source:new me.Z({features:e.getSource().getFeatures()}),style:e.getStyle()}));return t.set("name",e.get("name")),t.set("displayIcon",e.get("displayIcon")),t.set("sharedId",e.get("sharedId")),t}));return new ce.Z({layers:(0,n.ev)([],(0,n.CR)(t),!1),visible:!0})}))},e}(),Le=new xe;const Pe="map-wrapper",ze="controls",Ne="map",Oe="compareGrid",Ve="accodrionWrapper",Ae="sliderWrapper",Ge="zoomControls",Ie="topControls",Re="accordionRight",Te="accordionLeft",Be="controlButton";var _e=function(e){var t,r=e.mapConfig,o=e.slices,s=(0,a.useRef)(),l=(0,n.CR)((0,a.useState)(new f.Z({})),2),i=l[0],c=l[1],u=(0,n.CR)((0,a.useState)([]),2),d=u[0],m=u[1],h=(0,n.CR)((0,a.useState)([]),2),j=h[0],E=h[1],b=(0,n.CR)((0,a.useState)({featureProps:null,layer:null,cluster:[]}),2),w=b[0],Z=b[1],k=(0,n.CR)((0,a.useState)(0),2),S=k[0],C=k[1],x=(0,n.CR)((0,a.useState)(0),2),L=x[0],P=x[1],N=(0,n.CR)((0,a.useState)(!1),2),O=N[0],V=N[1],A=(0,ae.ac)("(min-width: 666px)"),G=(0,a.useRef)(new g.Z);(0,a.useEffect)((function(){Le.generateMap(r,o,s).then((function(e){c(e.map),m(e.groups),E(e.groupsCopy)}))}),[]);var I=function(e,t){var r=i.getEventCoordinate(t.originalEvent),a=i.getView().getResolution();e.getLayersArray().forEach((function(e){e.getVisible()&&e.getSource()instanceof ne.Z&&e.getSource().forDataAtCoordinateAndResolution(r,a,(function(t){Z(null!==t&&""!==t?function(r){return(0,n.pi)((0,n.pi)({},r),{layer:e,featureProps:t,cluster:[]})}:function(t){return(0,n.pi)((0,n.pi)({},t),{layer:e,featureProps:null,cluster:[]})})}))}))},R=function(e,t){var r=i.getEventCoordinate(t.originalEvent),n=i.getView().getResolution();e.getLayersArray().forEach((function(e){e.getVisible()&&e.getSource()instanceof ne.Z&&e.getSource().forDataAtCoordinateAndResolution(r,n,(function(e){i.getTargetElement().style.cursor=e?"pointer":""}))}))};(0,a.useEffect)((function(){var e=function(e){var t=i.forEachFeatureAtPixel(e.pixel,(function(e,t){return{f:e,l:t}})),r=null==t?void 0:t.f,a=null==t?void 0:t.l;r?r.getProperties().features?function(e,t){if(1===e.length)Z((function(r){return(0,n.pi)((0,n.pi)({},r),{layer:t,featureProps:e[0].getProperties(),cluster:[]})}));else{var r=(0,y.hI)(e.map((function(e){return e.getGeometry().getCoordinates()})));i.getView().fit(r,{duration:1e3,padding:[50,50,50,50]}),Z((function(r){return(0,n.pi)((0,n.pi)({},r),{layer:t,featureProps:null,cluster:e})}))}}(r.getProperties().features,a):Z((function(e){return(0,n.pi)((0,n.pi)({},e),{layer:a,featureProps:r.getProperties(),cluster:[]})})):O?e.pixel[0]<document.querySelectorAll(".ol-swipe")[0].getBoundingClientRect().left?I(d[L],e):I(j[S],e):I(d[L],e)},t=function(e){if(i.hasFeatureAtPixel(e.pixel))i.getTargetElement().style.cursor="pointer";else if(i.getTargetElement().style.cursor="",O){var t=document.querySelectorAll(".ol-swipe")[0].getBoundingClientRect().left;e.pixel[0]<t?R(d[L],e):R(j[S],e)}else R(d[L],e)};return i.on("click",e),i.on("pointermove",t),function(){i.un("click",e),i.un("pointermove",t)}}),[j,d,L,S,O]);var T=(0,le.Z)(((t={})[ze]=!O,t[Oe]=O,t));return a.createElement("div",{className:Pe},a.createElement("div",{className:Ne,ref:s}),a.createElement("div",{className:T},a.createElement("div",{className:Ie},r.hasCompare&&o.length>1&&a.createElement(v.Z,{type:"button",size:"large",className:Be,onClick:function(){return O?(d.forEach((function(e){return e.setVisible(!1)})),j.forEach((function(e){return e.setVisible(!1)})),d[L].setVisible(!0),i.getControls().forEach((function(e){e instanceof g.Z&&i.removeControl(e)})),C(0),void V(!1)):(j[S].setVisible(!0),d[L].getLayersArray().forEach((function(e){return G.current.addLayer(e,!1)})),j[S].getLayersArray().forEach((function(e){return G.current.addLayer(e,!0)})),i.addControl(G.current),void V(!0))},variant:"contained"},"Сравнить")),a.createElement("div",{className:Ge},a.createElement(v.Z,{type:"button",title:"Zoom in",variant:"contained",size:"large",className:"controlButton",onClick:function(){var e=i.getView().getZoom();void 0!==e&&i.getView().animate({zoom:e+1,duration:250})}},a.createElement(oe.Z,null)),a.createElement(v.Z,{type:"button",title:"Zoom out",className:"controlButton",size:"large",variant:"contained",onClick:function(){var e=i.getView().getZoom();void 0!==e&&i.getView().animate({zoom:e-1,duration:250})}},a.createElement(se.Z,null))),a.createElement("div",{className:Ve},a.createElement("div",{className:Te},A?a.createElement(W,{layerGroup:d[L],sideGroups:d}):a.createElement(ee,{layerGroup:d[L],sideGroups:d})),O&&a.createElement("div",{className:Re},A?a.createElement(W,{layerGroup:j[S],sideGroups:j}):a.createElement(ee,{layerGroup:j[S],sideGroups:j}))),o.length>1&&a.createElement("div",{className:Ae},a.createElement(p,{onChange:function(e){d.forEach((function(e){return e.setVisible(!1)})),O?(G.current.removeLayers(G.current.layers.map((function(e){return e.layer}))),d[e].getLayersArray().forEach((function(e){return G.current.addLayer(e,!1)})),j[S].getLayersArray().forEach((function(e){return G.current.addLayer(e,!0)})),d[e].setVisible(!0)):d[e].setVisible(!0),P(e)},slices:o}),O&&a.createElement(p,{onChange:function(e){G.current.removeLayers(G.current.layers.map((function(e){return e.layer}))),j.forEach((function(e){return e.setVisible(!1)})),d[L].getLayersArray().forEach((function(e){return G.current.addLayer(e,!1)})),j[e].getLayersArray().forEach((function(e){return G.current.addLayer(e,!0)})),j[e].setVisible(!0),C(e)},slices:o}))),A?a.createElement(z,{clickedObject:w,onClose:function(){Z((function(e){return(0,n.pi)((0,n.pi)({},e),{featureProps:null,cluster:[]})}))},zoomToObject:function(e){return function(e){i.getView().fit(e.getGeometry().getExtent()),Z((function(t){return(0,n.pi)((0,n.pi)({},t),{featureProps:e.getProperties(),cluster:[]})}))}(e)}}):a.createElement(re,{clickedObject:w,onClose:function(){Z((function(e){return(0,n.pi)((0,n.pi)({},e),{featureProps:null,cluster:[]})}))}}))},Me=function(){var e=(0,n.CR)((0,a.useState)({center:[],zoom:0,minZoom:0,maxZoom:0,extent:[],hasCompare:!1}),2),t=e[0],r=e[1],o=(0,n.CR)((0,a.useState)([]),2),s=o[0],l=o[1];return(0,a.useEffect)((function(){Promise.all([u.getMapConfig(),u.getSlices()]).then((function(e){r(e[0].data),l(e[1].data)}))}),[]),a.createElement(a.Fragment,null,t.zoom>0&&s.length>0?a.createElement(_e,{mapConfig:t,slices:s}):null)};(0,n.mG)(void 0,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([new Promise((function(e,t){l().locale("ru"),e(!0)}))])];case 1:return e.sent(),o.render(a.createElement(Me,null),document.getElementById("root")),[2]}}))})).then((function(){}))}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={id:e,loaded:!1,exports:{}};return n[e].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=n,e=[],o.O=(t,r,n,a)=>{if(!r){var s=1/0;for(u=0;u<e.length;u++){for(var[r,n,a]=e[u],l=!0,i=0;i<r.length;i++)(!1&a||s>=a)&&Object.keys(o.O).every((e=>o.O[e](r[i])))?r.splice(i--,1):(l=!1,a<s&&(s=a));if(l){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,n,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var a=Object.create(null);o.r(a);var s={};t=t||[null,r({}),r([]),r(r)];for(var l=2&n&&e;"object"==typeof l&&!~t.indexOf(l);l=r(l))Object.getOwnPropertyNames(l).forEach((t=>s[t]=()=>e[t]));return s.default=()=>e,o.d(a,s),a},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={826:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var n,a,[s,l,i]=r,c=0;if(s.some((t=>0!==e[t]))){for(n in l)o.o(l,n)&&(o.m[n]=l[n]);if(i)var u=i(o)}for(t&&t(r);c<s.length;c++)a=s[c],o.o(e,a)&&e[a]&&e[a][0](),e[s[c]]=0;return o.O(u)},r=self.webpackChunksat_selection_module_client=self.webpackChunksat_selection_module_client||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s=o.O(void 0,[63],(()=>o(3737)));s=o.O(s)})();